\newcommand{\ReferenceableSpec}[4]{ %{type name}{Quick desc.}{Behaviour}{collection of \ReferencableParam{}{} entries}

 \begin{center}
  \colorbox{lightgray}{
   \begin{tabular}{@{}p{5cm}p{8.5cm}}
    \colorbox{gray}{
     \begin{minipage}[t]{4.5cm}
      \normalsize{\textbf{Type: #1}}\\\scriptsize
      #2\\\\
      \normalsize{Behaviour:}\\\scriptsize
      #3\\
      \normalsize
     \end{minipage}
    } &    
    \begin{minipage}[t]{8.5cm}
     \textbf{Parameters:}\\\\
     #4
    \end{minipage}
   \end{tabular}
  }
 \end{center}
}

\newcommand{\ReferencableParam}[2]{  %{Parameter}{Description}
 \begin{tabular}{@{}p{2.5cm}p{5.5cm}}
 \textbf{\scriptsize{#1}} & \scriptsize{#2}\\
 \end{tabular}
}

\newcommand{\interactbutton}[0]{ \emph{interact} button }

\newcommand{\OnActivate}[0]{ \texttt{OnActivate} }
\newcommand{\OnDeath}[0]{ \texttt{OnDeath} }
\newcommand{\OnKnockout}[0]{ \texttt{OnKnockout} }
\newcommand{\OnMurder}[0]{ \texttt{OnMurder} }
\newcommand{\OnPCAdd}[0]{ \texttt{OnPCAdd} }
\newcommand{\OnPCDrop}[0]{ \texttt{OnPCDrop} }
\newcommand{\OnPCEquip}[0]{ \texttt{OnPCEquip} }
\newcommand{\OnPCHitMe}[0]{ \texttt{OnPCHitMe} }
\newcommand{\OnPCRepair}[0]{ \texttt{OnPCRepair} }
\newcommand{\OnPCSoulGemUse}[0]{ \texttt{OnPCSoulGemUse} }
\newcommand{\OnRepair}[0]{ \texttt{OnRepair} }

\newcommand{\CastOnce}[0]{\emph{Cast Once}}
\newcommand{\WhenStrikes}[0]{\emph{When Strikes}}
\newcommand{\WhenUsed}[0]{\emph{When Used}}
\newcommand{\ConstEffect}[0]{\emph{Constant Effect}}


\section{Record Types}

\subsection{Introduction}
A gameworld contains many objects, such as chests, weapons and monsters. All these objects are merely instances of templates that we call Referenceables. The OpenCS Referenceables table contains information about each of these template objects, eg. its value and weight in the case of items and an aggression level in the case of NPCs.

\noindent
When creating a plugin, you may wish to add your own referencables to the game such as new items, creatures, etc. If your item is truely unique (\emph{e.g.} you want to create your own weapon with absurdly high damage) you can use the Referencables list to create a new entry (or clone an existing one) that describes your item. Once it exists in the Referencables list, you can place a \textbf{Reference} to the item into the game world which the player can see and/or interact with. All (?) referenceables can have a script attached which will run once per frame while a reference to that referenceable is in an active cell in--game.\\
\\
\noindent
\emph{Referencables} are accessed through the \emph{World$\rightarrow$Referencables} menu, which will bring up a subview containing a list of all referenceables in the game data. This covers all items, creatures, static objects such as rocks and buildings, etc. There are several distinct types of referencable which behave in different ways. The different types can be seen in the \emph{Record Type} column in the list view in OpenCS. The following section describes these types, their behaviour, and their parameters.\\

\ReferenceableSpec
{Activator}
{Static (potentially animated) items the user can use the \interactbutton{} on in the game world.}
{When the PC interacts with a reference to an activator, the \OnActivate{} block of the attached script will be executed.}
{
 \ReferencableParam{Model}{The model file of the object that appears in game. For Morrowind, typically a \emph{.nif}}

 \ReferencableParam{Name}{The name that appears when the player points the crosshair at the model in--game.}

 \ReferencableParam{Script}{The ID of the script (optionally?) containing an \OnActivate{} block.}
}

\ReferenceableSpec
{Potion}
{\textbf{\emph{Predefined}} potions that appear in the game as consumable items.}
{Potions are items that can be picked up, appear in the player inventory, and be `drunk' by using them to impart effects on the user.}
{
 \ReferencableParam{Model}{The model file of the object that appears in game. For Morrowind, typically a \emph{.nif}}

 \ReferencableParam{Name}{The name that appears when the player points the crosshair at the model in--game and in inventories.}

 \ReferencableParam{Script}{The ID of a script with (optional) \mbox{\OnPCAdd,} \mbox{\OnPCDrop,} \OnPCEquip{} blocks.}

 \ReferencableParam{Icon}{The image file containing the icon displayed in inventories.}

 \ReferencableParam{Weight}{The weight of the potion in inventories.}

 \ReferencableParam{Coin Value}{The base cost of the item, not accounting for NPC disposition and PC/NPC mercantile skills.}

 \ReferencableParam{Auto Calc}{If set true, the value of the potion is computed automatically by the game engine.}
 \footnote{Where is potion effect listed or set?}
}

\ReferenceableSpec
{Apparatus}
{These are items used for alchemy in--game.}
{Apparatus items can be picked up, appear in the player inventory, and be used for alchemy.}
{
 \ReferencableParam{Model}{The model file of the object that appears in game. For Morrowind, typically a \emph{.nif}}

 \ReferencableParam{Name}{The name that appears when the player points the crosshair at the model in--game and in inventories.}

 \ReferencableParam{Script}{The ID of a script with (optional) \mbox{\OnPCAdd,} \mbox{\OnPCDrop,} \OnPCEquip{}\footnote{not sure about \OnPCEquip...?} blocks.}% \footnote{I had no idea apparatus could be scripted!}}

 \ReferencableParam{Icon}{The image file containing the icon displayed in inventories.}

 \ReferencableParam{Weight}{The weight of the potion in inventories.}

 \ReferencableParam{Coin Value}{The base cost of the item, not accounting for NPC disposition and PC/NPC mercantile skills.} 

 \ReferencableParam{Quality}{I assume this is a multiplier for the potion strength?}

 \ReferencableParam{Apparatus Type}{One of the 4 types of apparatus: \mbox{Mortar \& Pestle}, Alembic, Calcinator or Retort.}
}

\ReferenceableSpec
{Armor}
{Armor items offer protection from physical attack to the PC in--game.}
{Armor items can be picked up, appear in the player inventory, and be worn by the PC. They can also have an attached \emph{Enchantment} ID.}
{
 \ReferencableParam{Model}{The model file of the object that appears in game. For Morrowind, typically a \emph{.nif}}

 \ReferencableParam{Name}{The name that appears when the player points the crosshair at the model in--game and in inventories.}

 \ReferencableParam{Script}{The ID of a script with (optional) \mbox{\OnPCAdd,} \mbox{\OnPCDrop,} \mbox{\OnPCEquip,} \mbox{\OnPCRepair,} \OnRepair{}\footnote{Probably not \OnRepair...?} blocks.}

 \ReferencableParam{Icon}{The image file containing the icon displayed in inventories.}

 \ReferencableParam{Weight}{The weight of the armor in inventories.}

 \ReferencableParam{Coin Value}{The base cost of the item, not accounting for NPC disposition and PC/NPC mercantile skills.} 

 \ReferencableParam{Enchantment}{The ID(?) of an enchantment listed in the subview opened with menu: \emph{Mechanics$\rightarrow$Enchantments}. Supports enchantment types \WhenUsed{} and \ConstEffect.}

 \ReferencableParam{Enchantment Points}{The maximum level to which this item can be enchanted.}

 \ReferencableParam{Armor Type}{Type of armor. Helmet, Cuirass, \emph{etc}.}

 \ReferencableParam{Health}{How undamaged this item is. At 0, this item can no longer be used until it is repaired.}

 \ReferencableParam{Armor Value}{Amount of protection offered by this piece of armour.} 
}

\ReferenceableSpec
{Book}
{Books are as they appear: In--game books the player can read.}
{Book items can be picked up and appear in the player inventory, They can also have an attached \emph{Enchantment} ID. When activated, they will `open' for the player to read.}
{
 \ReferencableParam{Model}{The model file of the object that appears in game. For Morrowind, typically a \emph{.nif}}

 \ReferencableParam{Name}{The name that appears when the player points the crosshair at the model in--game and in inventories.}

 \ReferencableParam{Script}{The ID of a script with (optional) \mbox{\OnActivate,} \mbox{\OnPCAdd,} \OnPCDrop{} blocks.}

 \ReferencableParam{Icon}{The image file containing the icon displayed in inventories.}

 \ReferencableParam{Weight}{The weight of the book in inventories.}

 \ReferencableParam{Coin Value}{The base cost of the item, not accounting for NPC disposition and PC/NPC mercantile skills.} 

 \ReferencableParam{Enchantment}{The ID(?) of an enchantment listed in the subview opened with menu: \emph{Mechanics$\rightarrow$Enchantments}. Supports enchantment type \CastOnce{}.}

 \ReferencableParam{Enchantment Points}{The maximum level to which this item can be enchanted.}

 \ReferencableParam{Scroll}{If set \emph{true}, this book will appear as a scroll when opened.}

 \ReferencableParam{Attribute}{If this book teaches a skill, then the PC attribute to be raised by 1 point is specified here.} 
}



\ReferenceableSpec
{type name.}
{Quick desc.}
{Behaviour description.}
{
 \ReferencableParam{one of}{these entries for each param}
}
